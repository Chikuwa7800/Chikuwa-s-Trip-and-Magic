execute unless predicate ls_trip_and_magic:acshident/sneaks if entity @s[nbt={SelectedItem:{components:{ "minecraft:custom_data":{"item_type":"item_core"}}}}] as @n[tag=ch_tm_magic_crafting_table_core,tag=!ls_tm_magic_crafting_table_cannot_contact,tag=!ch_tm_magic_crafting_table_prep] at @s run function ls_trip_and_magic:magic/block/magic_crafting_table/craft/right_click/prep
execute unless predicate ls_trip_and_magic:acshident/sneaks as @n[tag=ch_tm_magic_crafting_table_core,tag=!ls_tm_magic_crafting_table_cannot_contact,tag=ch_tm_magic_crafting_table_prep] at @s run function ls_trip_and_magic:magic/block/magic_crafting_table/craft/right_click/material
execute if predicate ls_trip_and_magic:acshident/sneaks as @n[tag=ch_tm_magic_crafting_table_core,tag=!ls_tm_magic_crafting_table_cannot_contact] at @s run function ls_trip_and_magic:magic/block/magic_crafting_table/craft/cancel
playsound block.basalt.place
advancement revoke @s only ls_trip_and_magic:interaction_magic_table